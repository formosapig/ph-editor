<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>ç·¨è¼¯æª”æ¡ˆ</title>
  <link rel="stylesheet" href="[[ url_for('static', filename='edit.css') ]]" />
</head>
<body>
  <div style="display: flex; align-items: center; gap: 0.5em; margin-bottom: 10px; user-select: none; cursor: default;">
    <!-- è§’è‰²ç¸®åœ– 
    <img src="/cache/thumb_[[ file_id ]].jpg"
         alt="è§’è‰²ç¸®åœ–"
         style="height: 44px; width: auto; object-fit: contain; border-radius: 4px;"
         draggable="false">
	-->
    <!-- ID -->
    <span class="file-id-label">[[ file_id ]]</span>

    <!-- Remark å¯ç·¨è¼¯ -->
    <span id="file-id-remark" contenteditable="true">[[ remark ]]</span>
    <div class="status-radio-group">
	  <label class="status-radio-btn">
		<input type="radio" name="file-status" value="archived" [% if status == 'archived' %]checked[% endif %]>
		<span>ğŸ“¦ å°å­˜</span>
	  </label>
	  <label class="status-radio-btn">
		<input type="radio" name="file-status" value="draft" [% if status == 'draft' %]checked[% endif %]>
		<span>ğŸ§© è‰ç¨¿</span>
	  </label>
	  <label class="status-radio-btn">
		<input type="radio" name="file-status" value="refinement" [% if status == 'refinement' %]checked[% endif %]>
		<span>ğŸ¨ æ½¤é£¾</span>
	  </label>
	  <label class="status-radio-btn">
		<input type="radio" name="file-status" value="finalized" [% if status == 'finalized' %]checked[% endif %]>
		<span>ğŸ“Œ å®šç¨¿</span>
	  </label>
	</div>  
  </div>

  <div class="tab-container">
    <div class="tab-buttons">
      <button class="tab-button active" data-tab="story">æ•…äº‹</button>
	  <button class="tab-button" data-tab="hair">é ­é«®</button>
      <button class="tab-button" data-tab="face">è‡‰éƒ¨</button>
      <button class="tab-button" data-tab="body">èº«é«”</button>
      <button class="tab-button" data-tab="clothing">æœè£</button>
      <button class="tab-button" data-tab="accessory">é…ä»¶</button>
    </div>

    <div id="sub-tab-buttons" class="sub-tab-buttons"></div>

    <div id="dropdown-container" class="floating-dropdown">
      <div id="dropdown-1" class="dropdown-slot"></div>
      <div id="dropdown-2" class="dropdown-slot"></div>
      <div id="dropdown-3" class="dropdown-slot"></div>
    </div>
	
	<!--
    <div id="thumbnail-container">
      <!- - è§’è‰²ç¸®åœ– - ->
      <img src="/cache/thumb_[[ file_id ]].jpg"
           alt="è§’è‰²ç¸®åœ–"
           style="height: 440px; width: auto; object-fit: contain; border-radius: 4px;"
           draggable="false">
	</div>
	-->

    <!--<style>
      #main-content {
        /* ä½¿ç”¨ Jinja2 èªæ³• {{ }} æ’å…¥è®Šæ•¸ */
        background-image:
          linear-gradient(rgba(255, 255, 255, 0.6), 
                          rgba(255, 255, 255, 0.6)),
          url("/cache/thumb_[[ file_id ]].jpg");
        
        /* èª¿æ•´åœ–ç‰‡å±¬æ€§ */
        background-repeat: no-repeat;
        background-position: right center;
        background-size: contain; 
        
        /* ç¢ºä¿æœ‰è¨­å®šé«˜åº¦ï¼Œå¦å‰‡èƒŒæ™¯ä¸æœƒé¡¯ç¤º */
        min-height: 352px; 
        width: 100%;
      }
    </style>-->

    <div class="content-and-thumbnail-wrapper">


	  <div id="main-content-shell">
        <div id="main-content" contenteditable="true"></div>
      </div>
	
	  <div id="thumbnail-container">
	    <div id="main-thumb-wrapper">
	      <img src="/cache/thumb_[[ file_id ]].jpg"
	           alt="ä¸»è§’ç¸®åœ–"
		       draggable="false">
		</div>
		
		[% if sub_file_id %]
		<div id="sub-thumb-wrapper">
	      <img src="/cache/thumb_[[ sub_file_id ]].jpg"
	           alt="é…è§’ç¸®åœ–"
		       draggable="false">
		</div>	   
		[% endif %]
      </div>

	</div>
	
    <!-- <div id="main-content" contenteditable="true"></div> -->
    </div>
  
  <div id="result-message"></div>
  
    <script>
        const sn = [[ sn | tojson | safe ]];
        //const fileId = [[ file_id | tojson | safe ]];
	    const characterData = [[ data | safe ]];
    </script>
    <script src="[[ url_for('static', filename='edit.js') ]]"></script>
</body>
</html>