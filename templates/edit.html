<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>編輯檔案</title>
  <link rel="stylesheet" href="[[ url_for('static', filename='edit.css') ]]" />
</head>
<body>
  <div class="top-right-button-container">
    <!-- <button type="button" onclick="pingPongSync()">乒乓</button> -->
    <button type="button" onclick="reloadFile()">重讀</button>
    <button id="saveButton" type="button" onclick="saveFile()" disabled>儲存</button>
    <!-- <button type="button" onclick="window.close()">結束</button> -->
  </div>

  <h1 style="display: flex; align-items: center; gap: 0.5em;">
    <img src="/cache/thumb_[[ file_id ]].jpg"
         alt="角色縮圖"
         style="height: 32px; width: auto; object-fit: contain; border-radius: 4px;"
         draggable="false">
	[[ file_id ]]
  </h1>

  <div class="tab-container">
    <div class="tab-buttons">
      <button class="tab-button active" data-tab="hair">頭髮</button>
      <button class="tab-button" data-tab="face">臉部</button>
      <button class="tab-button" data-tab="body">身體</button>
      <button class="tab-button" data-tab="clothing">服裝</button>
      <button class="tab-button" data-tab="accessory">配件</button>
      <button class="tab-button" data-tab="story">故事</button>
    </div>

    <div id="sub-tab-buttons" class="sub-tab-buttons"></div>

    <div id="dropdown-container" class="floating-dropdown">
      <div id="dropdown-1" class="dropdown-slot"></div>
      <div id="dropdown-2" class="dropdown-slot"></div>
      <div id="dropdown-3" class="dropdown-slot"></div>
    </div>
	<div id="main-content-shell">
      <div id="main-content" contenteditable="true"></div>
    </div>
    <!-- <div id="main-content" contenteditable="true"></div> -->
  </div>
  
  <div id="result-message"></div>
  
  <script>
    const characterData = [[ data | safe ]];
	const fileId = [[ file_id |　tojson | safe ]];
  </script>
  <script src="[[ url_for('static', filename='edit.js') ]]"></script>
</body>
</html>